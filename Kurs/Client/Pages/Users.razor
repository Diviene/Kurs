@page "/Users"
@inject HttpClient Http
@inject IHttpClientFactory HttpClientFactory
@attribute [Authorize(Roles = "Admin")]

<h3>Пользователи</h3>

@if (hotelss.Count <= 0)

{
    <span>Пользователей нет!!!!!!</span>

}
else
{
    @foreach (var customerss in hotelss)
    {
        <li>@customerss.FullName</li>
    }

}

@code {
    List<User> hotelss = new List<User>();

    protected override async Task OnInitializedAsync()
    {
        var http = HttpClientFactory.CreateClient("Kurs.AnonymousAPI");
        var hotels = await http.GetFromJsonAsync<List<User>>("api/User");

        if (hotels != null)
        {
            hotelss = hotels;
        }
    }
}